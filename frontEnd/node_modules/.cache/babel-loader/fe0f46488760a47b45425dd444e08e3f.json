{"remainingRequest":"/Users/movi/Desktop/current/frontEnd/node_modules/babel-loader/lib/index.js!/Users/movi/Desktop/current/frontEnd/src/store/modules/permission.js","dependencies":[{"path":"/Users/movi/Desktop/current/frontEnd/src/store/modules/permission.js","mtime":1682073798665},{"path":"/Users/movi/Desktop/current/frontEnd/babel.config.js","mtime":1679456648000},{"path":"/Users/movi/Desktop/current/frontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1651221196058},{"path":"/Users/movi/Desktop/current/frontEnd/node_modules/babel-loader/lib/index.js","mtime":1669512949620}],"contextDependencies":[],"result":["import { constantRouterMap } from '@/config/router.config';\nimport { BasicLayout, RouteView, BlankLayout, PageView } from '@/layouts';\nimport store from '@/store';\nimport router from '@/router';\n\n// 404页面\nvar noFound = {\n  path: '*',\n  redirect: '/404',\n  hidden: true\n};\nvar permission = {\n  state: {\n    routers: constantRouterMap,\n    addRouters: []\n  },\n  mutations: {\n    SET_ROUTERS: function SET_ROUTERS(state, routers) {\n      state.addRouters = routers;\n      state.routers = constantRouterMap.concat(routers);\n    }\n  },\n  actions: {\n    set_router: function set_router(_ref) {\n      var commit = _ref.commit;\n      var userInfo = JSON.parse(window.localStorage.getItem(\"vuex\")).user.info;\n      var role_type = userInfo.role_type;\n      // 根据roles权限生成可访问的路由表\n      // 仅定义两个角色，管理员和用户\n      var routers = [];\n      if (role_type === 'admin') {\n        // 配置管理员的路由\n        routers = [{\n          path: 'dashboard',\n          name: 'Dashboard',\n          meta: {\n            title: '用户列表',\n            icon: 'HomeOutlined'\n          },\n          component: function component() {\n            return import(\"@/views/dashboard/index\");\n          }\n        },\n        // ,{\n        //   path: '要改1，取值就是页面的名字即可',\n        //   name: '要改2'，取值就是页面的名字，首字母大写,\n        //   meta: {\n        //     title: 'A页面',\n        //     icon: 'HomeOutlined'\n        //   },\n        //   component: () => import(\"@/views/页面的名字/index\")\n        // }\n        {\n          path: 'event',\n          name: 'Event',\n          meta: {\n            title: '事件列表',\n            icon: 'HomeOutlined'\n          },\n          component: function component() {\n            return import(\"@/views/event/index\");\n          },\n          children: [{\n            path: 'eventDetail',\n            name: 'EventDetail',\n            hidden: true,\n            meta: {\n              title: '事件详情'\n            },\n            component: function component() {\n              return import('@/views/event/detail/index');\n            }\n          }]\n        }, {\n          path: 'eventChart',\n          name: 'EventChart',\n          meta: {\n            title: '事件统计图'\n          },\n          component: function component() {\n            return import('@/views/chart/index');\n          }\n        }\n        // {\n        //   path: 'eventExtractiont',\n        //   name: 'EventExtractiont',\n        //   meta: {\n        //     title: '事件抽取列表',\n        //     icon: 'HomeOutlined'\n        //   },\n        //   component: () => import(\"@/views/eventExtraction/index\")\n        // }\n        ];\n      } else {\n        // 配置普通用户的路由\n        routers = [{\n          path: 'event',\n          name: 'Event',\n          meta: {\n            title: '事件列表',\n            icon: 'HomeOutlined'\n          },\n          component: function component() {\n            return import(\"@/views/event/index\");\n          },\n          children: [{\n            path: 'eventDetail',\n            name: 'EventDetail',\n            hidden: true,\n            meta: {\n              title: '事件详情'\n            },\n            component: function component() {\n              return import('@/views/event/detail/index');\n            }\n          }]\n        }\n        // {\n        //   path: 'eventExtractiont',\n        //   name: 'EventExtractiont',\n        //   meta: {\n        //     title: '事件抽取列表',\n        //     icon: 'HomeOutlined'\n        //   },\n        //   component: () => import(\"@/views/eventExtraction/index\")\n        // }\n        ];\n      }\n\n      var json = [{\n        path: '/',\n        name: 'frame',\n        component: BasicLayout,\n        meta: {\n          title: '底层frame'\n        },\n        redirect: '/frame/dashboard',\n        children: routers\n      }];\n      json.push(noFound);\n      commit('SET_ROUTERS', json);\n    }\n  }\n};\nexport default permission;",{"version":3,"names":["constantRouterMap","BasicLayout","RouteView","BlankLayout","PageView","store","router","noFound","path","redirect","hidden","permission","state","routers","addRouters","mutations","SET_ROUTERS","concat","actions","set_router","_ref","commit","userInfo","JSON","parse","window","localStorage","getItem","user","info","role_type","name","meta","title","icon","component","children","json","push"],"sources":["/Users/movi/Desktop/current/frontEnd/src/store/modules/permission.js"],"sourcesContent":["import { constantRouterMap } from '@/config/router.config'\nimport { BasicLayout, RouteView, BlankLayout, PageView } from '@/layouts'\nimport store from '@/store'\nimport router from '@/router'\n\n// 404页面\nconst noFound = {\n  path: '*', redirect: '/404', hidden: true\n}\n\nconst permission = {\n  state: {\n    routers: constantRouterMap,\n    addRouters: []\n  },\n  mutations: {\n    SET_ROUTERS: (state, routers) => {\n      state.addRouters = routers\n      state.routers = constantRouterMap.concat(routers)\n    }\n  },\n  actions: {\n    set_router({ commit }) {\n      const userInfo = JSON.parse(window.localStorage.getItem(\"vuex\")).user.info\n      let role_type = userInfo.role_type\n      // 根据roles权限生成可访问的路由表\n      // 仅定义两个角色，管理员和用户\n      let routers = []\n      if (role_type === 'admin') {\n        // 配置管理员的路由\n        routers=[{\n          path: 'dashboard',\n          name: 'Dashboard',\n          meta: {\n            title: '用户列表',\n            icon: 'HomeOutlined'\n          },\n          component: () => import(\"@/views/dashboard/index\")\n        },\n          // ,{\n        //   path: '要改1，取值就是页面的名字即可',\n        //   name: '要改2'，取值就是页面的名字，首字母大写,\n        //   meta: {\n        //     title: 'A页面',\n        //     icon: 'HomeOutlined'\n        //   },\n        //   component: () => import(\"@/views/页面的名字/index\")\n        // }\n        {\n          path: 'event',\n          name: 'Event',\n          meta: {\n            title: '事件列表',\n            icon: 'HomeOutlined'\n          },\n          component: () => import(\"@/views/event/index\"),\n          children: [\n            {\n              path: 'eventDetail',\n              name: 'EventDetail',\n              hidden: true,\n              meta: {\n                title: '事件详情',\n              },\n              component: () => import ('@/views/event/detail/index')\n            }\n          ]\n        },\n        {\n          path: 'eventChart',\n          name: 'EventChart',\n          meta: {\n            title: '事件统计图'\n          },\n          component: () => import('@/views/chart/index')\n        },\n        // {\n        //   path: 'eventExtractiont',\n        //   name: 'EventExtractiont',\n        //   meta: {\n        //     title: '事件抽取列表',\n        //     icon: 'HomeOutlined'\n        //   },\n        //   component: () => import(\"@/views/eventExtraction/index\")\n        // }\n        ]\n      } else {\n        // 配置普通用户的路由\n        routers = [\n          {\n            path: 'event',\n            name: 'Event',\n            meta: {\n              title: '事件列表',\n              icon: 'HomeOutlined'\n            },\n            component: () => import(\"@/views/event/index\"),\n            children: [\n              {\n                path: 'eventDetail',\n                name: 'EventDetail',\n                hidden: true,\n                meta: {\n                  title: '事件详情',\n                },\n                component: () => import ('@/views/event/detail/index')\n              }\n            ]\n          },\n          // {\n          //   path: 'eventExtractiont',\n          //   name: 'EventExtractiont',\n          //   meta: {\n          //     title: '事件抽取列表',\n          //     icon: 'HomeOutlined'\n          //   },\n          //   component: () => import(\"@/views/eventExtraction/index\")\n          // }\n        ]\n      }\n      let json = [\n        {\n          path: '/',\n          name: 'frame',\n          component: BasicLayout,\n          meta: {\n            title: '底层frame'\n          },\n          redirect: '/frame/dashboard',\n          children: routers\n        }]\n      json.push(noFound)\n      commit('SET_ROUTERS', json)\n    }\n  }\n}\n\nexport default permission\n"],"mappings":"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"}]}